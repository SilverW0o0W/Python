<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title>Netease Music</title>
    {% load staticfiles %}
    <link href="{% static "music/css/bootstrap.min.css" %}" rel="stylesheet"/>
    <link href="{% static "music/css/font-awesome.min.css" %}" rel="stylesheet"/>
    <link href="{% static "music/css/site.min.css" %}" rel="stylesheet"/>
    <!--[if lt IE 9]>
    <script src="https://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
    <!--[if IE 9]>
    <script src="https://cdn.bootcss.com/geopattern/1.2.3/js/base64.min.js"></script>
    <script src="https://cdn.bootcss.com/geopattern/1.2.3/js/typedarray.min.js"></script>
  <![endif]-->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="{% static "music/image/apple-touch-icon.png" %}"/>
    <link rel="shortcut icon" href="{% static "music/image/favicon.ico" %}"/>
</head>
<body class="home-template">
<header class="site-header">
    <nav class="navbar navbar-static-top main-navbar" id="top">
        <div class="container">
            <div class="navbar-header"></div>
            <nav id="bs-navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://github.com/SilverW0o0W/Netease-music/"
                           onclick="_hmt.push(['_trackEvent', 'main-navbar', 'click', 'api'])" target="_blank">API</a>
                    </li>
                    <li><a href="http://www.silvercodingcat.com/"
                           onclick="_hmt.push(['_trackEvent', 'main-navbar', 'click', 'blog'])" target="_blank">博客</a>
                    </li>
                    <li><a href="http://www.bootcdn.cn/#about"
                           onclick="_hmt.push(['_trackEvent', 'main-navbar', 'click', 'about'])">关于</a></li>
                </ul>
            </nav>
        </div>
    </nav>
    <div class="container jumbotron">
        <div class="row">
            <div class="col-xs-12">
                <h1>Netease Music</h1>
                <p>稳定、快速、免费的前端开源项目 CDN 加速服务<br/><span class="package-amount">歌曲，歌单url</span></p>
                <div class="search-wraper" role="search">
                    <div class="form-group">
                        <input class="form-control search clearable" placeholder="搜索链接" autocomplete="off" autofocus=""
                               tabindex="0" autocorrect="off" autocapitalize="off" spellcheck="false" id="url"/>
                        <i class="fa fa-search" id="search-button"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="list-group packages" id="common-packages">
        <a href="/bootstrap/" class="package list-group-item" target="_blank" onclick="_hmt.push(['_trackEvent', 'packages', 'click', 'bootstrap'])">
            <div class="row">
                <div class="col-md-3"><h4 class="package-name">bootstrap</h4></div>
                <div class="col-md-9 hidden-xs"><p class="package-description">Bootstrap 是全球最受欢迎的前端组件库，用于开发响应式布局、移动设备优先的 WEB 项目。</p></div>
                <div class="package-extra-info col-md-9 col-md-offset-3 col-xs-12"><span><i class="fa fa-star"></i> 122699</span></div></div>
        </a>
    </div>
</header>
<script type="text/javascript" src="{% static "music/js/jquery-3.3.1.min.js" %}"></script>
<script>
    $.ajaxSetup({
        data: {csrfmiddlewaretoken: '{{ csrf_token }}'},
    });

    function sendUrl() {
        var url = $("#url").val()
        $.post("{% url 'basic:detail_action' %}", {"url": url},
            function (data, status) {
                alert(
                    "ID: " + data['song']['id'] + "\n" +
                    "Name: " + data['song']['name'] + "\n" +
                    "Artists: " + data['song']['artists'] + "\n" +
                    "Album: " + data['song']['album'] + "\n" +
                    "Status: " + status
                );
            });
    }

    $("#search-button").click(function () {
        sendUrl()
    });
    $("#url").keyup(function (e) {
        if (e.keyCode == 13) sendUrl()
    })

</script>
</body>
</html>